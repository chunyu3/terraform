--- !ruby/object:Api::Product
name: Azure MachineGroup Management
versions:
  - !ruby/object:Api::Product::Version
    name: ga
    base_url: NotUsedInAzure
scopes:
  - NotUsedInAzure
objects:
  - !ruby/object:Api::Resource
    name: MachineGroup
    api_name: OperationalInsights
    base_url: NotUsedInAzure

    azure_sdk_definition: !ruby/object:Api::Azure::SDKDefinition
      provider_name: Microsoft.OperationalInsights
      go_client_namespace: servicemap
      go_client: machineGroupsClient
      python_client_namespace: azure.mgmt.servicemap
      python_client: ServiceMapClient.machine_groups
      create: !ruby/object:Api::Azure::SDKOperationDefinition
        go_func_name: Create
        python_func_name: create
        request:
          'resourceGroupName': !ruby/object:Api::Azure::SDKTypeDefinition::StringObject
            id_portion: resourceGroups
            go_variable_name: resourceGroup
            python_parameter_name: resource_group_name
            python_variable_name: resource_group
          'workspaceName': !ruby/object:Api::Azure::SDKTypeDefinition::StringObject
            id_portion: workspaces
            go_variable_name: workspaceName
            python_parameter_name: workspace_name
            python_variable_name: workspace_name
          '/': !ruby/object:Api::Azure::SDKTypeDefinition::ComplexObject
            go_variable_name: machineGroup
            go_type_name: MachineGroup
            python_parameter_name: machine_group
            python_variable_name: machine_group
          '/etag': !ruby/object:Api::Azure::SDKTypeDefinition::StringObject
            go_field_name: Etag
            python_field_name: etag
          '/properties': !ruby/object:Api::Azure::SDKTypeDefinition::ComplexObject
            applicable_to: [go]
            go_field_name: MachineGroup_properties
            go_type_name: MachineGroup_properties
          '/groupType': !ruby/object:Api::Azure::SDKTypeDefinition::EnumObject
            applicable_to: [python]
            python_field_name: group_type
          '/properties/groupType': !ruby/object:Api::Azure::SDKTypeDefinition::EnumObject
            applicable_to: [go]
            go_field_name: GroupType
            go_enum_type_name: MachineGroupType
          '/displayName': !ruby/object:Api::Azure::SDKTypeDefinition::StringObject
            applicable_to: [python]
            python_field_name: display_name
          '/properties/displayName': !ruby/object:Api::Azure::SDKTypeDefinition::StringObject
            applicable_to: [go]
            go_field_name: DisplayName
          '/count': !ruby/object:Api::Azure::SDKTypeDefinition::Integer32Object
            applicable_to: [python]
            python_field_name: count
          '/properties/count': !ruby/object:Api::Azure::SDKTypeDefinition::Integer32Object
            applicable_to: [go]
            go_field_name: Count
          '/machines': !ruby/object:Api::Azure::SDKTypeDefinition::ComplexArrayObject
            applicable_to: [python]
            python_field_name: machines
          '/machines/id': !ruby/object:Api::Azure::SDKTypeDefinition::StringObject
            applicable_to: [python]
            python_field_name: id
          '/properties/machines': !ruby/object:Api::Azure::SDKTypeDefinition::ComplexArrayObject
            applicable_to: [go]
            go_field_name: Machines
            go_type_name: Ref:machinewithhints
          '/properties/machines/id': !ruby/object:Api::Azure::SDKTypeDefinition::StringObject
            applicable_to: [go]
            go_field_name: ID
          '/properties/machines/properties': !ruby/object:Api::Azure::SDKTypeDefinition::ComplexObject
            applicable_to: [go]
            go_field_name: MachineReferenceWithHints_properties
            go_type_name: MachineReferenceWithHints_properties
      update: !ruby/object:Api::Azure::SDKOperationDefinition
        go_func_name: Update
        python_func_name: update
        request:
          'resourceGroupName': !ruby/object:Api::Azure::SDKTypeDefinition::StringObject
            id_portion: resourceGroups
            go_variable_name: resourceGroup
            python_parameter_name: resource_group_name
            python_variable_name: resource_group
          'workspaceName': !ruby/object:Api::Azure::SDKTypeDefinition::StringObject
            id_portion: workspaces
            go_variable_name: workspaceName
            python_parameter_name: workspace_name
            python_variable_name: workspace_name
          '/': !ruby/object:Api::Azure::SDKTypeDefinition::ComplexObject
            go_variable_name: machineGroup
            go_type_name: MachineGroup
            python_parameter_name: machine_group
            python_variable_name: machine_group
          '/etag': !ruby/object:Api::Azure::SDKTypeDefinition::StringObject
            go_field_name: Etag
            python_field_name: etag
          '/properties': !ruby/object:Api::Azure::SDKTypeDefinition::ComplexObject
            applicable_to: [go]
            go_field_name: MachineGroup_properties
            go_type_name: MachineGroup_properties
          '/groupType': !ruby/object:Api::Azure::SDKTypeDefinition::EnumObject
            applicable_to: [python]
            python_field_name: group_type
          '/properties/groupType': !ruby/object:Api::Azure::SDKTypeDefinition::EnumObject
            applicable_to: [go]
            go_field_name: GroupType
            go_enum_type_name: MachineGroupType
          '/displayName': !ruby/object:Api::Azure::SDKTypeDefinition::StringObject
            applicable_to: [python]
            python_field_name: display_name
          '/properties/displayName': !ruby/object:Api::Azure::SDKTypeDefinition::StringObject
            applicable_to: [go]
            go_field_name: DisplayName
          '/count': !ruby/object:Api::Azure::SDKTypeDefinition::Integer32Object
            applicable_to: [python]
            python_field_name: count
          '/properties/count': !ruby/object:Api::Azure::SDKTypeDefinition::Integer32Object
            applicable_to: [go]
            go_field_name: Count
          '/machines': !ruby/object:Api::Azure::SDKTypeDefinition::ComplexArrayObject
            applicable_to: [python]
            python_field_name: machines
          '/machines/id': !ruby/object:Api::Azure::SDKTypeDefinition::StringObject
            applicable_to: [python]
            python_field_name: id
          '/properties/machines': !ruby/object:Api::Azure::SDKTypeDefinition::ComplexArrayObject
            applicable_to: [go]
            go_field_name: Machines
            go_type_name: Ref:machinewithhints
          '/properties/machines/id': !ruby/object:Api::Azure::SDKTypeDefinition::StringObject
            applicable_to: [go]
            go_field_name: ID
          '/properties/machines/properties': !ruby/object:Api::Azure::SDKTypeDefinition::ComplexObject
            applicable_to: [go]
            go_field_name: MachineReferenceWithHints_properties
            go_type_name: MachineReferenceWithHints_properties
      delete: !ruby/object:Api::Azure::SDKOperationDefinition
        go_func_name: Delete
        python_func_name: delete
        request:
          'resourceGroupName': !ruby/object:Api::Azure::SDKTypeDefinition::StringObject
            id_portion: resourceGroups
            go_variable_name: resourceGroup
            python_parameter_name: resource_group_name
            python_variable_name: resource_group
          'workspaceName': !ruby/object:Api::Azure::SDKTypeDefinition::StringObject
            id_portion: workspaces
            go_variable_name: workspaceName
            python_parameter_name: workspace_name
            python_variable_name: workspace_name
      read: !ruby/object:Api::Azure::SDKOperationDefinition
        go_func_name: Get
        python_func_name: get
        request:
          'resourceGroupName': !ruby/object:Api::Azure::SDKTypeDefinition::StringObject
            id_portion: resourceGroups
            go_variable_name: resourceGroup
            python_parameter_name: resource_group_name
            python_variable_name: resource_group
          'workspaceName': !ruby/object:Api::Azure::SDKTypeDefinition::StringObject
            id_portion: workspaces
            go_variable_name: workspaceName
            python_parameter_name: workspace_name
            python_variable_name: workspace_name
        response:
          '/etag': !ruby/object:Api::Azure::SDKTypeDefinition::StringObject
            go_field_name: Etag
            python_field_name: etag
          '/properties': !ruby/object:Api::Azure::SDKTypeDefinition::ComplexObject
            applicable_to: [go]
            go_field_name: MachineGroup_properties
            go_type_name: MachineGroup_properties
          '/properties/groupType': !ruby/object:Api::Azure::SDKTypeDefinition::EnumObject
            applicable_to: [go]
            go_field_name: GroupType
            go_enum_type_name: MachineGroupType
          '/groupType': !ruby/object:Api::Azure::SDKTypeDefinition::EnumObject
            applicable_to: [python]
            python_field_name: group_type
          '/properties/displayName': !ruby/object:Api::Azure::SDKTypeDefinition::StringObject
            applicable_to: [go]
            go_field_name: DisplayName
          '/displayName': !ruby/object:Api::Azure::SDKTypeDefinition::StringObject
            applicable_to: [python]
            python_field_name: display_name
          '/properties/count': !ruby/object:Api::Azure::SDKTypeDefinition::Integer32Object
            applicable_to: [go]
            go_field_name: Count
          '/count': !ruby/object:Api::Azure::SDKTypeDefinition::Integer32Object
            applicable_to: [python]
            python_field_name: count
          '/properties/machines': !ruby/object:Api::Azure::SDKTypeDefinition::ComplexArrayObject
            applicable_to: [go]
            go_field_name: Machines
            go_type_name: Ref:machinewithhints
          '/properties/machines/id': !ruby/object:Api::Azure::SDKTypeDefinition::StringObject
            applicable_to: [go]
            go_field_name: ID
          '/properties/machines/properties': !ruby/object:Api::Azure::SDKTypeDefinition::ComplexObject
            applicable_to: [go]
            go_field_name: MachineReferenceWithHints_properties
            go_type_name: MachineReferenceWithHints_properties
          '/properties/machines/properties/displayNameHint': !ruby/object:Api::Azure::SDKTypeDefinition::StringObject
            applicable_to: [go]
            go_field_name: DisplayNameHint
          '/properties/machines/properties/osFamilyHint': !ruby/object:Api::Azure::SDKTypeDefinition::EnumObject
            applicable_to: [go]
            go_field_name: OsFamilyHint
            go_enum_type_name: OperatingSystemFamily
          '/properties/machines/type': !ruby/object:Api::Azure::SDKTypeDefinition::StringObject
            applicable_to: [go]
            go_field_name: Type
          '/properties/machines/name': !ruby/object:Api::Azure::SDKTypeDefinition::StringObject
            applicable_to: [go]
            go_field_name: Name
          '/machines': !ruby/object:Api::Azure::SDKTypeDefinition::ComplexArrayObject
            applicable_to: [python]
            python_field_name: machines
          '/machines/id': !ruby/object:Api::Azure::SDKTypeDefinition::StringObject
            applicable_to: [python]
            python_field_name: id
          '/machines/displayNameHint': !ruby/object:Api::Azure::SDKTypeDefinition::StringObject
            applicable_to: [python]
            python_field_name: display_name_hint
          '/machines/osFamilyHint': !ruby/object:Api::Azure::SDKTypeDefinition::EnumObject
            applicable_to: [python]
            python_field_name: os_family_hint
          '/machines/type': !ruby/object:Api::Azure::SDKTypeDefinition::StringObject
            applicable_to: [python]
            python_field_name: type
          '/machines/name': !ruby/object:Api::Azure::SDKTypeDefinition::StringObject
            applicable_to: [python]
            python_field_name: name
          '/id': !ruby/object:Api::Azure::SDKTypeDefinition::StringObject
            go_field_name: ID
            python_field_name: id
          '/type': !ruby/object:Api::Azure::SDKTypeDefinition::StringObject
            go_field_name: Type
            python_field_name: type
          '/name': !ruby/object:Api::Azure::SDKTypeDefinition::StringObject
            go_field_name: Name
            python_field_name: name
      list_by_parent: !ruby/object:Api::Azure::SDKOperationDefinition
        go_func_name: ListByWorkspace
        python_func_name: list_by_workspace
        request:
          'resourceGroupName': !ruby/object:Api::Azure::SDKTypeDefinition::StringObject
            id_portion: resourceGroups
            go_variable_name: resourceGroup
            python_parameter_name: resource_group_name
            python_variable_name: resource_group
          'workspaceName': !ruby/object:Api::Azure::SDKTypeDefinition::StringObject
            id_portion: workspaces
            go_variable_name: workspaceName
            python_parameter_name: workspace_name
            python_variable_name: workspace_name

    description: |
      Manage Azure MachineGroup instance.
    properties:
      - !ruby/object:Api::Azure::Type::ResourceGroupName
        name: 'resourceGroup'
        description: 'Resource group name within the specified subscriptionId.'
        required: true
        input: true
        azure_sdk_references: ['resourceGroupName']
      - !ruby/object:Api::Type::String
        name: 'workspaceName'
        description: 'OMS workspace containing the resources of interest.'
        required: true
        input: true
        azure_sdk_references: ['workspaceName']
      - !ruby/object:Api::Type::String
        name: 'etag'
        description: 'Resource ETAG.'
        required: false
        input: true
        azure_sdk_references: ['/etag']
      - !ruby/object:Api::Type::Enum
        name: 'groupType'
        description: 'Type of the machine group'
        required: false
        azure_sdk_references: ['/groupType', '/properties/groupType']
        values:
          - :unknown
          - :azure-cs
          - :azure-sf
          - :azure-vmss
          - :user-static
        default_value: :unknown
      - !ruby/object:Api::Type::String
        name: 'displayName'
        description: 'User defined name for the group'
        required: true
        azure_sdk_references: ['/displayName', '/properties/displayName']
      - !ruby/object:Api::Type::Integer
        name: 'count'
        description: 'Count of machines in this group. The value of count may be bigger than the number of machines in case of the group has been truncated due to exceeding the max number of machines a group can handle.'
        required: false
        azure_sdk_references: ['/count', '/properties/count']
      - !ruby/object:Api::Type::Array
        name: 'machines'
        description: 'References of the machines in this group. The hints within each reference do not represent the current value of the corresponding fields. They are a snapshot created during the last time the machine group was updated.'
        required: false
        azure_sdk_references: ['/machines', '/properties/machines']
        item_type: !ruby/object:Api::Type::NestedObject
          properties:
            - !ruby/object:Api::Type::String
              name: 'id'
              description: 'Resource URI.'
              required: true
              azure_sdk_references: ['/machines/id', '/properties/machines/id']
      # read only values included only in response
      - !ruby/object:Api::Type::String
        name: 'id'
        description: 'Resource identifier.'
        output: true
        azure_sdk_references: ['/id']
      - !ruby/object:Api::Type::String
        name: 'type'
        description: 'Resource type.'
        output: true
        azure_sdk_references: ['/type']
      - !ruby/object:Api::Type::String
        name: 'name'
        description: 'Resource name.'
        output: true
        azure_sdk_references: ['/name']