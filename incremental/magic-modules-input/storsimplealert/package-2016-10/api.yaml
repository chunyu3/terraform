--- !ruby/object:Api::Product
name: Azure Alert Management
versions:
  - !ruby/object:Api::Product::Version
    name: ga
    base_url: NotUsedInAzure
scopes:
  - NotUsedInAzure
objects:
  - !ruby/object:Api::Resource
    name: Alert
    api_name: StorSimple
    base_url: NotUsedInAzure

    azure_sdk_definition: !ruby/object:Api::Azure::SDKDefinition
      provider_name: Microsoft.StorSimple
      go_client_namespace: storsimple
      go_client: alertsClient
      python_client_namespace: azure.mgmt.storsimple
      python_client: StorSimpleManagementClient.alerts
      list_by_parent: !ruby/object:Api::Azure::SDKOperationDefinition
        go_func_name: ListByManager
        python_func_name: list_by_manager
        request:
          'resourceGroupName': !ruby/object:Api::Azure::SDKTypeDefinition::StringObject
            id_portion: resourceGroups
            go_variable_name: resourceGroup
            python_parameter_name: resource_group_name
            python_variable_name: resource_group
          'managerName': !ruby/object:Api::Azure::SDKTypeDefinition::StringObject
            id_portion: managers
            go_variable_name: name
            python_parameter_name: manager_name
            python_variable_name: name

    description: |
      Manage Azure Alert instance.
    properties:
      - !ruby/object:Api::Azure::Type::ResourceGroupName
        name: 'resourceGroup'
        description: 'The resource group name'
        required: true
        input: true
        azure_sdk_references: ['resourceGroupName']
      - !ruby/object:Api::Type::String
        name: 'name'
        description: 'The manager name'
        required: true
        input: true
        azure_sdk_references: ['managerName']
      # read only values included only in response
      - !ruby/object:Api::Type::Array
        name: 'value'
        description: 'The value.'
        output: true
        azure_sdk_references: ['/value']
        item_type: !ruby/object:Api::Type::NestedObject
          properties:
            - !ruby/object:Api::Type::String
              name: 'id'
              description: 'The identifier.'
              required: false
              azure_sdk_references: ['/value/id']
            - !ruby/object:Api::Type::String
              name: 'name'
              description: 'The name.'
              required: false
              azure_sdk_references: ['/value/name']
            - !ruby/object:Api::Type::String
              name: 'type'
              description: 'The type.'
              required: false
              azure_sdk_references: ['/value/type']
            - !ruby/object:Api::Type::String
              name: 'title'
              description: 'Title of the alert'
              required: true
              azure_sdk_references: ['/value/title', '/value/properties/title']
            - !ruby/object:Api::Type::Enum
              name: 'scope'
              description: 'Device or Resource alert'
              required: true
              azure_sdk_references: ['/value/scope', '/value/properties/scope']
              values:
                - :Resource
                - :Device
            - !ruby/object:Api::Type::String
              name: 'alertType'
              description: 'Type of the alert'
              required: true
              azure_sdk_references: ['/value/alertType', '/value/properties/alertType']
            - !ruby/object:Api::Azure::Type::ISO8601DateTime
              name: 'appearedAtTime'
              description: 'UTC time at which the alert appeared'
              required: true
              azure_sdk_references: ['/value/appearedAtTime', '/value/properties/appearedAtTime']
            - !ruby/object:Api::Azure::Type::ISO8601DateTime
              name: 'appearedAtSourceTime'
              description: 'UTC time at which the alert appeared on the source'
              required: true
              azure_sdk_references: ['/value/appearedAtSourceTime', '/value/properties/appearedAtSourceTime']
            - !ruby/object:Api::Azure::Type::ISO8601DateTime
              name: 'clearedAtTime'
              description: 'UTC time at which the alert got cleared'
              required: false
              azure_sdk_references: ['/value/clearedAtTime', '/value/properties/clearedAtTime']
            - !ruby/object:Api::Azure::Type::ISO8601DateTime
              name: 'clearedAtSourceTime'
              description: 'UTC time at which the alert was cleared on the source'
              required: false
              azure_sdk_references: ['/value/clearedAtSourceTime', '/value/properties/clearedAtSourceTime']
            - !ruby/object:Api::Type::NestedObject
              name: 'source'
              description: 'Source at which the alert was cleared'
              required: true
              azure_sdk_references: ['/value/source', '/value/properties/source']
              properties:
                - !ruby/object:Api::Type::String
                  name: 'name'
                  description: 'Name of the source.'
                  required: false
                  azure_sdk_references: ['/value/source/name', '/value/properties/source/name']
                - !ruby/object:Api::Type::String
                  name: 'timeZone'
                  description: 'The time zone.'
                  required: false
                  azure_sdk_references: ['/value/source/timeZone', '/value/properties/source/timeZone']
                - !ruby/object:Api::Type::Enum
                  name: 'alertSourceType'
                  description: 'Source type of the alert.'
                  required: false
                  azure_sdk_references: ['/value/source/alertSourceType', '/value/properties/source/alertSourceType']
                  values:
                    - :Resource
                    - :Device
                  default_value: :Resource
            - !ruby/object:Api::Type::String
              name: 'recommendation'
              description: 'Recommendation for acting on the alert'
              required: false
              azure_sdk_references: ['/value/recommendation', '/value/properties/recommendation']
            - !ruby/object:Api::Type::String
              name: 'resolutionReason'
              description: 'Reason for resolving the alert'
              required: false
              azure_sdk_references: ['/value/resolutionReason', '/value/properties/resolutionReason']
            - !ruby/object:Api::Type::Enum
              name: 'severity'
              description: 'Severity of the alert'
              required: true
              azure_sdk_references: ['/value/severity', '/value/properties/severity']
              values:
                - :Informational
                - :Warning
                - :Critical
            - !ruby/object:Api::Type::Enum
              name: 'status'
              description: 'Current status of the alert'
              required: true
              azure_sdk_references: ['/value/status', '/value/properties/status']
              values:
                - :Active
                - :Cleared
            - !ruby/object:Api::Type::NestedObject
              name: 'errorDetails'
              description: 'ErrorDetails of the alert'
              required: false
              azure_sdk_references: ['/value/errorDetails', '/value/properties/errorDetails']
              properties:
                - !ruby/object:Api::Type::String
                  name: 'errorCode'
                  description: 'Error code.'
                  required: false
                  azure_sdk_references: ['/value/errorDetails/errorCode', '/value/properties/errorDetails/errorCode']
                - !ruby/object:Api::Type::String
                  name: 'errorMessage'
                  description: 'Error Message'
                  required: false
                  azure_sdk_references: ['/value/errorDetails/errorMessage', '/value/properties/errorDetails/errorMessage']
                - !ruby/object:Api::Type::Integer
                  name: 'occurences'
                  description: 'Number of occurrences.'
                  required: false
                  azure_sdk_references: ['/value/errorDetails/occurences', '/value/properties/errorDetails/occurences']
            - !ruby/object:Api::Type::KeyValuePairs
              name: 'detailedInformation'
              description: 'Other information about the alert'
              required: false
              azure_sdk_references: ['/value/detailedInformation', '/value/properties/detailedInformation']
      - !ruby/object:Api::Type::String
        name: 'nextLink'
        description: 'Id of the next page of alerts'
        output: true
        azure_sdk_references: ['/nextLink']