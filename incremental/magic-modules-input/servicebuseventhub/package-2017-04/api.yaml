--- !ruby/object:Api::Product
name: Azure EventHub Management
versions:
  - !ruby/object:Api::Product::Version
    name: ga
    base_url: NotUsedInAzure
scopes:
  - NotUsedInAzure
objects:
  - !ruby/object:Api::Resource
    name: EventHub
    api_name: ServiceBus
    base_url: NotUsedInAzure

    azure_sdk_definition: !ruby/object:Api::Azure::SDKDefinition
      provider_name: Microsoft.ServiceBus
      go_client_namespace: servicebus
      go_client: eventHubsClient
      python_client_namespace: azure.mgmt.servicebus
      python_client: ServiceBusManagementClient.event_hubs
      list_by_parent: !ruby/object:Api::Azure::SDKOperationDefinition
        go_func_name: ListByNamespace
        python_func_name: list_by_namespace
        request:
          'resourceGroupName': !ruby/object:Api::Azure::SDKTypeDefinition::StringObject
            id_portion: resourceGroups
            go_variable_name: resourceGroup
            python_parameter_name: resource_group_name
            python_variable_name: resource_group
          'namespaceName': !ruby/object:Api::Azure::SDKTypeDefinition::StringObject
            id_portion: namespaces
            go_variable_name: name
            python_parameter_name: namespace_name
            python_variable_name: name

    description: |
      Manage Azure EventHub instance.
    properties:
      - !ruby/object:Api::Azure::Type::ResourceGroupName
        name: 'resourceGroup'
        description: 'Name of the Resource group within the Azure subscription.'
        required: true
        input: true
        azure_sdk_references: ['resourceGroupName']
      - !ruby/object:Api::Type::String
        name: 'name'
        description: 'The namespace name'
        required: true
        input: true
        azure_sdk_references: ['namespaceName']
      # read only values included only in response
      - !ruby/object:Api::Type::Array
        name: 'value'
        description: 'Result of the List EventHubs operation.'
        output: true
        azure_sdk_references: ['/value']
        item_type: !ruby/object:Api::Type::NestedObject
          properties:
            - !ruby/object:Api::Type::String
              name: 'id'
              description: 'Resource Id'
              required: false
              azure_sdk_references: ['/value/id']
            - !ruby/object:Api::Type::String
              name: 'name'
              description: 'Resource name'
              required: false
              azure_sdk_references: ['/value/name']
            - !ruby/object:Api::Type::String
              name: 'type'
              description: 'Resource type'
              required: false
              azure_sdk_references: ['/value/type']
            - !ruby/object:Api::Type::Array
              name: 'partitionIds'
              description: 'Current number of shards on the Event Hub.'
              required: false
              azure_sdk_references: ['/value/partitionIds', '/value/properties/partitionIds']
              item_type: Api::Type::String
            - !ruby/object:Api::Azure::Type::ISO8601DateTime
              name: 'createdAt'
              description: 'Exact time the Event Hub was created.'
              required: false
              azure_sdk_references: ['/value/createdAt', '/value/properties/createdAt']
            - !ruby/object:Api::Azure::Type::ISO8601DateTime
              name: 'updatedAt'
              description: 'The exact time the message was updated.'
              required: false
              azure_sdk_references: ['/value/updatedAt', '/value/properties/updatedAt']
            - !ruby/object:Api::Type::Integer
              name: 'messageRetentionInDays'
              description: 'Number of days to retain the events for this Event Hub, value should be 1 to 7 days'
              required: false
              azure_sdk_references: ['/value/messageRetentionInDays', '/value/properties/messageRetentionInDays']
            - !ruby/object:Api::Type::Integer
              name: 'partitionCount'
              description: 'Number of partitions created for the Event Hub, allowed values are from 1 to 32 partitions.'
              required: false
              azure_sdk_references: ['/value/partitionCount', '/value/properties/partitionCount']
            - !ruby/object:Api::Type::Enum
              name: 'status'
              description: 'Enumerates the possible values for the status of the Event Hub.'
              required: false
              azure_sdk_references: ['/value/status', '/value/properties/status']
              values:
                - :Active
                - :Disabled
                - :Restoring
                - :SendDisabled
                - :ReceiveDisabled
                - :Creating
                - :Deleting
                - :Renaming
                - :Unknown
              default_value: :Active
            - !ruby/object:Api::Type::NestedObject
              name: 'captureDescription'
              description: 'Properties of capture description'
              required: false
              azure_sdk_references: ['/value/captureDescription', '/value/properties/captureDescription']
              properties:
                - !ruby/object:Api::Type::Boolean
                  name: 'enabled'
                  description: 'A value that indicates whether capture description is enabled. '
                  required: false
                  azure_sdk_references: ['/value/captureDescription/enabled', '/value/properties/captureDescription/enabled']
                - !ruby/object:Api::Type::Enum
                  name: 'encoding'
                  description: 'Enumerates the possible values for the encoding format of capture description.'
                  required: false
                  azure_sdk_references: ['/value/captureDescription/encoding', '/value/properties/captureDescription/encoding']
                  values:
                    - :Avro
                    - :AvroDeflate
                  default_value: :Avro
                - !ruby/object:Api::Type::Integer
                  name: 'intervalInSeconds'
                  description: 'The time window allows you to set the frequency with which the capture to Azure Blobs will happen, value should between 60 to 900 seconds'
                  required: false
                  azure_sdk_references: ['/value/captureDescription/intervalInSeconds', '/value/properties/captureDescription/intervalInSeconds']
                - !ruby/object:Api::Type::Integer
                  name: 'sizeLimitInBytes'
                  description: 'The size window defines the amount of data built up in your Event Hub before an capture operation, value should be between 10485760 and 524288000 bytes'
                  required: false
                  azure_sdk_references: ['/value/captureDescription/sizeLimitInBytes', '/value/properties/captureDescription/sizeLimitInBytes']
                - !ruby/object:Api::Type::NestedObject
                  name: 'destination'
                  description: 'Properties of Destination where capture will be stored. (Storage Account, Blob Names)'
                  required: false
                  azure_sdk_references: ['/value/captureDescription/destination', '/value/properties/captureDescription/destination']
                  properties:
                    - !ruby/object:Api::Type::String
                      name: 'name'
                      description: 'Name for capture destination'
                      required: false
                      azure_sdk_references: ['/value/captureDescription/destination/name', '/value/properties/captureDescription/destination/name']
      - !ruby/object:Api::Type::String
        name: 'nextLink'
        description: 'Link to the next set of results. Not empty if Value contains incomplete list of EventHubs.'
        output: true
        azure_sdk_references: ['/nextLink']