---
# ----------------------------------------------------------------------------
#
#     ***     AUTO GENERATED CODE    ***    AUTO GENERATED CODE     ***
#
# ----------------------------------------------------------------------------
#
#     This file is automatically generated by Magic Modules and manual
#     changes will be clobbered when the file is regenerated.
#
#     Please read more about how to change this file at
#     https://github.com/Azure/magic-module-specs
#
# ----------------------------------------------------------------------------
layout: "azurerm"
page_title: "Azure Resource Manager: azurerm_policy"
sidebar_current: "docs-azurerm-resource-policy"
description: |-
  Manage Azure Policy instance.
---

# azurerm_policy

Manage Azure Policy instance.


## Argument Reference

The following arguments are supported:

* `name` - (Required) The name of the Web Application Firewall Policy. Changing this forces a new resource to be created.

* `resource_group` - (Required) Name of the Resource group within the Azure subscription. Changing this forces a new resource to be created.

* `location` - (Optional) Resource location. Changing this forces a new resource to be created.

* `custom_rules` - (Optional) One `custom_rule` block defined below.

* `etag` - (Optional) Gets a unique read-only string that changes whenever the resource is updated. Changing this forces a new resource to be created.

* `managed_rules` - (Optional) One `managed_rule` block defined below.

* `policy_settings` - (Optional) One `policy_setting` block defined below.

* `tags` - (Optional) Resource tags. Changing this forces a new resource to be created.

---

The `custom_rule` block supports the following:

* `rules` - (Optional) One or more `rule` block defined below.


---

The `rule` block supports the following:

* `name` - (Optional) Describes the name of the rule.

* `priority` - (Required) Describes priority of the rule. Rules with a lower value will be evaluated before rules with a higher value.

* `enabled_state` - (Optional) Describes if the custom rule is in enabled or disabled state. Defaults to Enabled if not specified. Defaults to `Disabled`.

* `rule_type` - (Required) Describes type of rule.

* `rate_limit_duration_in_minutes` - (Optional) Defines rate limit duration. Default is 1 minute.

* `rate_limit_threshold` - (Optional) Defines rate limit threshold.

* `match_conditions` - (Required) One or more `match_condition` block defined below.

* `action` - (Required) Describes what action to be applied when rule matches.


---

The `match_condition` block supports the following:

* `match_variable` - (Required) Match variable to compare against.

* `selector` - (Optional) Selector can used to match against a specific key from QueryString, PostArgs, RequestHeader or Cookies.

* `operator` - (Required) Describes operator to be matched

* `negate_condition` - (Optional) Describes if the result of this condition should be negated.

* `match_value` - (Required) List of possible match values.

* `transforms` - (Optional) List of transforms.

---

The `managed_rule` block supports the following:

* `managed_rule_sets` - (Optional) One or more `managed_rule_set` block defined below.


---

The `managed_rule_set` block supports the following:

* `rule_set_type` - (Required) Defines the rule set type to use.

* `rule_set_version` - (Required) Defines the version of the rule set to use.

* `rule_group_overrides` - (Optional) One or more `rule_group_override` block defined below.


---

The `rule_group_override` block supports the following:

* `rule_group_name` - (Required) Describes the managed rule group to override.

---

The `policy_setting` block supports the following:

* `enabled_state` - (Optional) Describes if the policy is in enabled or disabled state. Defaults to Enabled if not specified. Defaults to `Disabled`.

* `mode` - (Optional) Describes if it is in detection mode or prevention mode at policy level. Defaults to `Prevention`.

* `redirect_url` - (Optional) If action type is redirect, this field represents redirect URL for the client.

* `custom_block_response_status_code` - (Optional) If the action type is block, customer can override the response status code.

* `custom_block_response_body` - (Optional) If the action type is block, customer can override the response body. The body must be specified in base64 encoding.

## Attributes Reference

The following attributes are exported:

* `frontend_endpoint_links` - One or more `frontend_endpoint_link` block defined below.

* `provisioning_state` - Provisioning state of the policy.

* `resource_state` - 

* `id` - Resource ID.

* `name` - Resource name.

* `type` - Resource type.


---

The `frontend_endpoint_link` block contains the following:

* `id` - (Optional) Resource ID.
