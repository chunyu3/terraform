---
# ----------------------------------------------------------------------------
#
#     ***     AUTO GENERATED CODE    ***    AUTO GENERATED CODE     ***
#
# ----------------------------------------------------------------------------
#
#     This file is automatically generated by Magic Modules and manual
#     changes will be clobbered when the file is regenerated.
#
#     Please read more about how to change this file at
#     https://github.com/Azure/magic-module-specs
#
# ----------------------------------------------------------------------------
layout: "azurerm"
page_title: "Azure Resource Manager: azurerm_lab"
sidebar_current: "docs-azurerm-resource-lab"
description: |-
  Manage Azure Lab instance.
---

# azurerm_lab

Manage Azure Lab instance.


## Argument Reference

The following arguments are supported:

* `name` - (Required) The name of the lab. Changing this forces a new resource to be created.

* `resource_group` - (Required) The name of the resource group. Changing this forces a new resource to be created.

* `location` - (Optional) The location of the new virtual machine or environment Changing this forces a new resource to be created.

* `allow_claim` - (Optional) Indicates whether another user can take ownership of the virtual machine

* `artifact_deployment_status` - (Optional) One `artifact_deployment_status` block defined below.

* `artifacts` - (Optional) One or more `artifact` block defined below.

* `blob_name` - (Optional) The blob name of the upload URI. Changing this forces a new resource to be created.

* `blob_storage_absolute_sas_uri` - (Optional) The blob storage absolute sas uri with write permission to the container which the usage data needs to be uploaded to. Changing this forces a new resource to be created.

* `bulk_creation_parameters` - (Optional) One `bulk_creation_parameter` block defined below.

* `compute_id` - (Optional) The resource identifier (Microsoft.Compute) of the virtual machine.

* `created_by_user` - (Optional) The email address of creator of the virtual machine.

* `created_by_user_id` - (Optional) The object identifier of the creator of the virtual machine.

* `created_date` - (Optional) The creation date of the virtual machine.

* `custom_image_id` - (Optional) The custom image identifier of the virtual machine.

* `data_disk_parameters` - (Optional) One or more `data_disk_parameter` block defined below.

* `destination_virtual_machine_name` - (Optional) The name of the virtual machine in the destination lab Changing this forces a new resource to be created.

* `disallow_public_ip_address` - (Optional) Indicates whether the virtual machine is to be created without a public IP address.

* `environment_id` - (Optional) The resource ID of the environment that contains this virtual machine, if any.

* `expiration_date` - (Optional) The expiration date for VM.

* `fqdn` - (Optional) The fully-qualified domain name of the virtual machine.

* `gallery_image_reference` - (Optional) One `gallery_image_reference` block defined below.

* `is_authentication_with_ssh_key` - (Optional) Indicates whether this virtual machine uses an SSH key for authentication.

* `lab_subnet_name` - (Optional) The lab subnet name of the virtual machine.

* `lab_virtual_network_id` - (Optional) The lab virtual network identifier of the virtual machine.

* `last_known_power_state` - (Optional) Last known compute power state captured in DTL

* `network_interface` - (Optional) One `network_interface` block defined below.

* `notes` - (Optional) The notes of the virtual machine.

* `os_type` - (Optional) The OS type of the virtual machine.

* `owner_object_id` - (Optional) The object identifier of the owner of the virtual machine.

* `owner_user_principal_name` - (Optional) The user principal name of the virtual machine owner.

* `password` - (Optional) The password of the virtual machine administrator.

* `plan_id` - (Optional) The id of the plan associated with the virtual machine image

* `schedule_parameters` - (Optional) One or more `schedule_parameter` block defined below.

* `size` - (Optional) The size of the virtual machine.

* `source_virtual_machine_resource_id` - (Optional) The full resource ID of the virtual machine to be imported. Changing this forces a new resource to be created.

* `ssh_key` - (Optional) The SSH key of the virtual machine administrator.

* `storage_type` - (Optional) Storage type to use for virtual machine (i.e. Standard, Premium).

* `usage_start_date` - (Optional) The start time of the usage. If not provided, usage will be reported since the beginning of data collection. Changing this forces a new resource to be created.

* `user_name` - (Optional) The user name of the virtual machine.

* `virtual_machine_creation_source` - (Optional) Tells source of creation of lab virtual machine. Output property only. Defaults to `FromCustomImage`.

* `tags` - (Optional) The tags of the resource. Changing this forces a new resource to be created.

---

The `artifact_deployment_status` block supports the following:

* `deployment_status` - (Optional) The deployment status of the artifact.

* `artifacts_applied` - (Optional) The total count of the artifacts that were successfully applied.

* `total_artifacts` - (Optional) The total count of the artifacts that were tentatively applied.

---

The `artifact` block supports the following:

* `artifact_id` - (Optional) The artifact's identifier.

* `artifact_title` - (Optional) The artifact's title.

* `parameters` - (Optional) One or more `parameter` block defined below.

* `status` - (Optional) The status of the artifact.

* `deployment_status_message` - (Optional) The status message from the deployment.

* `vm_extension_status_message` - (Optional) The status message from the virtual machine extension.

* `install_time` - (Optional) The time that the artifact starts to install on the virtual machine.


---

The `parameter` block supports the following:

* `name` - (Optional) The name of the artifact parameter.

* `value` - (Optional) The value of the artifact parameter.

---

The `bulk_creation_parameter` block supports the following:

* `instance_count` - (Optional) The number of virtual machine instances to create.

---

The `data_disk_parameter` block supports the following:

* `attach_new_data_disk_options` - (Optional) One `attach_new_data_disk_option` block defined below.

* `existing_lab_disk_id` - (Optional) Specifies the existing lab disk id to attach to virtual machine.

* `host_caching` - (Optional) Caching option for a data disk (i.e. None, ReadOnly, ReadWrite). Defaults to `None`.


---

The `attach_new_data_disk_option` block supports the following:

* `disk_size_gi_b` - (Optional) Size of the disk to be attached in GibiBytes.

* `disk_name` - (Optional) The name of the disk to be attached.

* `disk_type` - (Optional) The storage type for the disk (i.e. Standard, Premium). Defaults to `Standard`.

---

The `gallery_image_reference` block supports the following:

* `offer` - (Optional) The offer of the gallery image.

* `publisher` - (Optional) The publisher of the gallery image.

* `sku` - (Optional) The SKU of the gallery image.

* `os_type` - (Optional) The OS type of the gallery image.

* `version` - (Optional) The version of the gallery image.

---

The `network_interface` block supports the following:

* `virtual_network_id` - (Optional) The resource ID of the virtual network.

* `subnet_id` - (Optional) The resource ID of the sub net.

* `public_ip_address_id` - (Optional) The resource ID of the public IP address.

* `public_ip_address` - (Optional) The public IP address.

* `private_ip_address` - (Optional) The private IP address.

* `dns_name` - (Optional) The DNS name.

* `rdp_authority` - (Optional) The RdpAuthority property is a server DNS host name or IP address followed by the service port number for RDP (Remote Desktop Protocol).

* `ssh_authority` - (Optional) The SshAuthority property is a server DNS host name or IP address followed by the service port number for SSH.

* `shared_public_ip_address_configuration` - (Optional) One `shared_public_ip_address_configuration` block defined below.


---

The `shared_public_ip_address_configuration` block supports the following:

* `inbound_nat_rules` - (Optional) One or more `inbound_nat_rule` block defined below.


---

The `inbound_nat_rule` block supports the following:

* `transport_protocol` - (Optional) The transport protocol for the endpoint. Defaults to `Tcp`.

* `frontend_port` - (Optional) The external endpoint port of the inbound connection. Possible values range between 1 and 65535, inclusive. If unspecified, a value will be allocated automatically.

* `backend_port` - (Optional) The port to which the external traffic will be redirected.

---

The `schedule_parameter` block supports the following:

* `status` - (Optional) The status of the schedule (i.e. Enabled, Disabled) Defaults to `Enabled`.

* `task_type` - (Optional) The task type of the schedule (e.g. LabVmsShutdownTask, LabVmAutoStart).

* `weekly_recurrence` - (Optional) One `weekly_recurrence` block defined below.

* `daily_recurrence` - (Optional) One `daily_recurrence` block defined below.

* `hourly_recurrence` - (Optional) One `hourly_recurrence` block defined below.

* `time_zone_id` - (Optional) The time zone ID (e.g. Pacific Standard time).

* `notification_settings` - (Optional) One `notification_setting` block defined below.

* `target_resource_id` - (Optional) The resource ID to which the schedule belongs

* `name` - (Optional) The name of the virtual machine or environment

* `location` - (Optional) The location of the new virtual machine or environment Changing this forces a new resource to be created.

* `tags` - (Optional) The tags of the resource.


---

The `weekly_recurrence` block supports the following:

* `weekdays` - (Optional) The days of the week for which the schedule is set (e.g. Sunday, Monday, Tuesday, etc.).

* `time` - (Optional) The time of the day the schedule will occur.

---

The `daily_recurrence` block supports the following:

* `time` - (Optional) The time of day the schedule will occur.

---

The `hourly_recurrence` block supports the following:

* `minute` - (Optional) Minutes of the hour the schedule will run.

---

The `notification_setting` block supports the following:

* `status` - (Optional) If notifications are enabled for this schedule (i.e. Enabled, Disabled). Defaults to `Enabled`.

* `time_in_minutes` - (Optional) Time in minutes before event at which notification will be sent.

* `webhook_url` - (Optional) The webhook URL to which the notification will be sent.

* `email_recipient` - (Optional) The email recipient to send notifications to (can be a list of semi-colon separated email addresses).

* `notification_locale` - (Optional) The locale to use when sending a notification (fallback for unsupported languages is EN).

## Attributes Reference

The following attributes are exported:

* `default_storage_account` - The lab's default storage account.

* `default_premium_storage_account` - The lab's default premium storage account.

* `artifacts_storage_account` - The lab's artifact storage account.

* `premium_data_disk_storage_account` - The lab's premium data disk storage account.

* `vault_name` - The lab's Key vault.

* `lab_storage_type` - Type of storage used by the lab. It can be either Premium or Standard. Default is Premium.

* `mandatory_artifacts_resource_ids_linux` - The ordered list of artifact resource IDs that should be applied on all Linux VM creations by default, prior to the artifacts specified by the user.

* `mandatory_artifacts_resource_ids_windows` - The ordered list of artifact resource IDs that should be applied on all Windows VM creations by default, prior to the artifacts specified by the user.

* `premium_data_disks` - The setting to enable usage of premium data disks.<br>When its value is 'Enabled', creation of standard or premium data disks is allowed.<br>When its value is 'Disabled', only creation of standard data disks is allowed.

* `environment_permission` - The access rights to be granted to the user when provisioning an environment

* `announcement` - One `announcement` block defined below.

* `support` - One `support` block defined below.

* `vm_creation_resource_group` - The resource group in which all new lab virtual machines will be created. To let DevTest Labs manage resource group creation, set this value to null.

* `public_ip_id` - The public IP address for the lab's load balancer.

* `load_balancer_id` - The load balancer used to for lab VMs that use shared IP address.

* `network_security_group_id` - The Network Security Group attached to the lab VMs Network interfaces to restrict open ports.

* `extended_properties` - Extended properties of the lab used for experimental features

* `provisioning_state` - The provisioning status of the resource.

* `unique_identifier` - The unique immutable identifier of a resource (Guid).

* `id` - The identifier of the resource.

* `name` - The name of the resource.

* `type` - The type of the resource.


---

The `announcement` block contains the following:

* `title` - The plain text title for the lab announcement

* `markdown` - The markdown text (if any) that this lab displays in the UI. If left empty/null, nothing will be shown.

* `enabled` - Is the lab announcement active/enabled at this time?

* `expiration_date` - The time at which the announcement expires (null for never)

* `expired` - Has this announcement expired?

* `provisioning_state` - The provisioning status of the resource.

* `unique_identifier` - The unique immutable identifier of a resource (Guid).

---

The `support` block contains the following:

* `enabled` - Is the lab support banner active/enabled at this time?

* `markdown` - The markdown text (if any) that this lab displays in the UI. If left empty/null, nothing will be shown.
