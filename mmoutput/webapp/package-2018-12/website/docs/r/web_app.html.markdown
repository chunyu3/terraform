---
# ----------------------------------------------------------------------------
#
#     ***     AUTO GENERATED CODE    ***    AUTO GENERATED CODE     ***
#
# ----------------------------------------------------------------------------
#
#     This file is automatically generated by Magic Modules and manual
#     changes will be clobbered when the file is regenerated.
#
#     Please read more about how to change this file at
#     https://github.com/Azure/magic-module-specs
#
# ----------------------------------------------------------------------------
layout: "azurerm"
page_title: "Azure Resource Manager: azurerm_web_app"
sidebar_current: "docs-azurerm-resource-web-app"
description: |-
  Manage Azure WebApp instance.
---

# azurerm_web_app

Manage Azure WebApp instance.


## Argument Reference

The following arguments are supported:

* `name` - (Required) Unique name of the app to create or update. To create or update a deployment slot, use the {slot} parameter. Changing this forces a new resource to be created.

* `resource_group` - (Required) Name of the resource group to which the resource belongs. Changing this forces a new resource to be created.

* `location` - (Required) Resource Location. Changing this forces a new resource to be created.

* `client_affinity_enabled` - (Optional) <code>true</code> to enable client affinity; <code>false</code> to stop sending session affinity cookies, which route client requests in the same session to the same instance. Default is <code>true</code>.

* `client_cert_enabled` - (Optional) <code>true</code> to enable client certificate authentication (TLS mutual authentication); otherwise, <code>false</code>. Default is <code>false</code>.

* `client_cert_exclusion_paths` - (Optional) client certificate authentication comma-separated exclusion paths

* `cloning_info` - (Optional) One `cloning_info` block defined below.

* `container_size` - (Optional) Size of the function container.

* `daily_memory_time_quota` - (Optional) Maximum allowed daily memory-time quota (applicable on dynamic apps only).

* `enabled` - (Optional) <code>true</code> if the app is enabled; otherwise, <code>false</code>. Setting this value to false disables the app (takes the app offline).

* `geo_distributions` - (Optional) One or more `geo_distribution` block defined below.

* `host_name_ssl_states` - (Optional) One or more `host_name_ssl_state` block defined below.

* `host_names_disabled` - (Optional) <code>true</code> to disable the public hostnames of the app; otherwise, <code>false</code>.<br> If <code>true</code>, the app is only accessible via API management process.

* `hosting_environment_profile` - (Optional) One `hosting_environment_profile` block defined below.

* `https_only` - (Optional) HttpsOnly: configures a web site to accept only https requests. Issues redirect for<br>http requests

* `hyper_v` - (Optional) Hyper-V sandbox.

* `identity` - (Optional) One `identity` block defined below.

* `is_xenon` - (Optional) Obsolete: Hyper-V sandbox.

* `kind` - (Optional) Kind of resource. Changing this forces a new resource to be created.

* `redundancy_mode` - (Optional) Site redundancy mode Defaults to `None`.

* `reserved` - (Optional) <code>true</code> if reserved; otherwise, <code>false</code>.

* `scm_site_also_stopped` - (Optional) <code>true</code> to stop SCM (KUDU) site when the app is stopped; otherwise, <code>false</code>. The default is <code>false</code>.

* `server_farm_id` - (Optional) Resource ID of the associated App Service plan, formatted as: "/subscriptions/{subscriptionID}/resourceGroups/{groupName}/providers/Microsoft.Web/serverfarms/{appServicePlanName}".

* `site_config` - (Optional) One `site_config` block defined below.

* `tags` - (Optional) Resource tags. Changing this forces a new resource to be created.

---

The `cloning_info` block supports the following:

* `correlation_id` - (Optional) Correlation ID of cloning operation. This ID ties multiple cloning operations<br>together to use the same snapshot.

* `overwrite` - (Optional) <code>true</code> to overwrite destination app; otherwise, <code>false</code>.

* `clone_custom_host_names` - (Optional) <code>true</code> to clone custom hostnames from source app; otherwise, <code>false</code>.

* `clone_source_control` - (Optional) <code>true</code> to clone source control from source app; otherwise, <code>false</code>.

* `source_web_app_id` - (Required) ARM resource ID of the source app. App resource ID is of the form <br>/subscriptions/{subId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Web/sites/{siteName} for production slots and <br>/subscriptions/{subId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Web/sites/{siteName}/slots/{slotName} for other slots.

* `source_web_app_location` - (Optional) Location of source app ex: West US or North Europe

* `hosting_environment` - (Optional) App Service Environment.

* `app_settings_overrides` - (Optional) Application setting overrides for cloned app. If specified, these settings override the settings cloned <br>from source app. Otherwise, application settings from source app are retained.

* `configure_load_balancing` - (Optional) <code>true</code> to configure load balancing for source and destination app.

* `traffic_manager_profile_id` - (Optional) ARM resource ID of the Traffic Manager profile to use, if it exists. Traffic Manager resource ID is of the form <br>/subscriptions/{subId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Network/trafficManagerProfiles/{profileName}.

* `traffic_manager_profile_name` - (Optional) Name of Traffic Manager profile to create. This is only needed if Traffic Manager profile does not already exist.

---

The `geo_distribution` block supports the following:

* `location` - (Optional) Location. Changing this forces a new resource to be created.

* `number_of_workers` - (Optional) NumberOfWorkers.

---

The `host_name_ssl_state` block supports the following:

* `name` - (Optional) Hostname.

* `ssl_state` - (Optional) SSL type. Defaults to `Disabled`.

* `virtual_ip` - (Optional) Virtual IP address assigned to the hostname if IP based SSL is enabled.

* `thumbprint` - (Optional) SSL certificate thumbprint.

* `to_update` - (Optional) Set to <code>true</code> to update existing hostname.

* `host_type` - (Optional) Indicates whether the hostname is a standard or repository hostname. Defaults to `Standard`.

---

The `hosting_environment_profile` block supports the following:

* `id` - (Optional) Resource ID of the App Service Environment.

---

The `identity` block supports the following:

* `type` - (Optional) Type of managed service identity. Defaults to `SystemAssigned`.

* `user_assigned_identities` - (Optional) The list of user assigned identities associated with the resource. The user identity dictionary key references will be ARM resource ids in the form: '/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ManagedIdentity/userAssignedIdentities/{identityName}

---

The `site_config` block supports the following:

* `number_of_workers` - (Optional) Number of workers.

* `default_documents` - (Optional) Default documents.

* `net_framework_version` - (Optional) .NET Framework version.

* `php_version` - (Optional) Version of PHP.

* `python_version` - (Optional) Version of Python.

* `node_version` - (Optional) Version of Node.js.

* `linux_fx_version` - (Optional) Linux App Framework and version

* `windows_fx_version` - (Optional) Xenon App Framework and version

* `request_tracing_enabled` - (Optional) <code>true</code> if request tracing is enabled; otherwise, <code>false</code>.

* `request_tracing_expiration_time` - (Optional) Request tracing expiration time.

* `remote_debugging_enabled` - (Optional) <code>true</code> if remote debugging is enabled; otherwise, <code>false</code>.

* `remote_debugging_version` - (Optional) Remote debugging version.

* `http_logging_enabled` - (Optional) <code>true</code> if HTTP logging is enabled; otherwise, <code>false</code>.

* `logs_directory_size_limit` - (Optional) HTTP logs directory size limit.

* `detailed_error_logging_enabled` - (Optional) <code>true</code> if detailed error logging is enabled; otherwise, <code>false</code>.

* `publishing_username` - (Optional) Publishing user name.

* `app_settings` - (Optional) One or more `app_setting` block defined below.

* `azure_storage_accounts` - (Optional) User-provided Azure storage accounts.

* `connection_strings` - (Optional) One or more `connection_string` block defined below.

* `handler_mappings` - (Optional) One or more `handler_mapping` block defined below.

* `document_root` - (Optional) Document root.

* `scm_type` - (Optional) SCM type. Defaults to `None`.

* `use32bit_worker_process` - (Optional) <code>true</code> to use 32-bit worker process; otherwise, <code>false</code>.

* `web_sockets_enabled` - (Optional) <code>true</code> if WebSocket is enabled; otherwise, <code>false</code>.

* `always_on` - (Optional) <code>true</code> if Always On is enabled; otherwise, <code>false</code>.

* `java_version` - (Optional) Java version.

* `java_container` - (Optional) Java container.

* `java_container_version` - (Optional) Java container version.

* `app_command_line` - (Optional) App command line to launch.

* `managed_pipeline_mode` - (Optional) Managed pipeline mode. Defaults to `Integrated`.

* `virtual_applications` - (Optional) One or more `virtual_application` block defined below.

* `load_balancing` - (Optional) Site load balancing. Defaults to `WeightedRoundRobin`.

* `experiments` - (Optional) One `experiment` block defined below.

* `limits` - (Optional) One `limit` block defined below.

* `auto_heal_enabled` - (Optional) <code>true</code> if Auto Heal is enabled; otherwise, <code>false</code>.

* `auto_heal_rules` - (Optional) One `auto_heal_rule` block defined below.

* `tracing_options` - (Optional) Tracing options.

* `vnet_name` - (Optional) Virtual Network name.

* `cors` - (Optional) One `cor` block defined below.

* `push` - (Optional) One `push` block defined below.

* `api_definition` - (Optional) One `api_definition` block defined below.

* `auto_swap_slot_name` - (Optional) Auto-swap slot name.

* `local_my_sql_enabled` - (Optional) <code>true</code> to enable local MySQL; otherwise, <code>false</code>.

* `managed_service_identity_id` - (Optional) Managed Service Identity Id

* `x_managed_service_identity_id` - (Optional) Explicit Managed Service Identity Id

* `ip_security_restrictions` - (Optional) One or more `ip_security_restriction` block defined below.

* `scm_ip_security_restrictions` - (Optional) One or more `scm_ip_security_restriction` block defined below.

* `scm_ip_security_restrictions_use_main` - (Optional) IP security restrictions for scm to use main.

* `http20enabled` - (Optional) Http20Enabled: configures a web site to allow clients to connect over http2.0

* `min_tls_version` - (Optional) MinTlsVersion: configures the minimum version of TLS required for SSL requests Defaults to `1.0`.

* `ftps_state` - (Optional) State of FTP / FTPS service Defaults to `AllAllowed`.

* `reserved_instance_count` - (Optional) Number of reserved instances.<br>This setting only applies to the Consumption Plan


---

The `app_setting` block supports the following:

* `name` - (Optional) Pair name.

* `value` - (Optional) Pair value.

---

The `connection_string` block supports the following:

* `name` - (Optional) Name of connection string.

* `connection_string` - (Optional) Connection string value.

* `type` - (Optional) Type of database. Defaults to `MySql`.

---

The `handler_mapping` block supports the following:

* `extension` - (Optional) Requests with this extension will be handled using the specified FastCGI application.

* `script_processor` - (Optional) The absolute path to the FastCGI application.

* `arguments` - (Optional) Command-line arguments to be passed to the script processor.

---

The `virtual_application` block supports the following:

* `virtual_path` - (Optional) Virtual path.

* `physical_path` - (Optional) Physical path.

* `preload_enabled` - (Optional) <code>true</code> if preloading is enabled; otherwise, <code>false</code>.

* `virtual_directories` - (Optional) One or more `virtual_directory` block defined below.


---

The `virtual_directory` block supports the following:

* `virtual_path` - (Optional) Path to virtual application.

* `physical_path` - (Optional) Physical path.

---

The `experiment` block supports the following:

* `ramp_up_rules` - (Optional) One or more `ramp_up_rule` block defined below.


---

The `ramp_up_rule` block supports the following:

* `action_host_name` - (Optional) Hostname of a slot to which the traffic will be redirected if decided to. E.g. myapp-stage.azurewebsites.net.

* `reroute_percentage` - (Optional) Percentage of the traffic which will be redirected to <code>ActionHostName</code>.

* `change_step` - (Optional) In auto ramp up scenario this is the step to add/remove from <code>ReroutePercentage</code> until it reaches <br><code>MinReroutePercentage</code> or <code>MaxReroutePercentage</code>. Site metrics are checked every N minutes specified in <code>ChangeIntervalInMinutes</code>.<br>Custom decision algorithm can be provided in TiPCallback site extension which URL can be specified in <code>ChangeDecisionCallbackUrl</code>.

* `change_interval_in_minutes` - (Optional) Specifies interval in minutes to reevaluate ReroutePercentage.

* `min_reroute_percentage` - (Optional) Specifies lower boundary above which ReroutePercentage will stay.

* `max_reroute_percentage` - (Optional) Specifies upper boundary below which ReroutePercentage will stay.

* `change_decision_callback_url` - (Optional) Custom decision algorithm can be provided in TiPCallback site extension which URL can be specified. See TiPCallback site extension for the scaffold and contracts.<br>https://www.siteextensions.net/packages/TiPCallback/

* `name` - (Optional) Name of the routing rule. The recommended name would be to point to the slot which will receive the traffic in the experiment.

---

The `limit` block supports the following:

* `max_percentage_cpu` - (Optional) Maximum allowed CPU usage percentage.

* `max_memory_in_mb` - (Optional) Maximum allowed memory usage in MB.

* `max_disk_size_in_mb` - (Optional) Maximum allowed disk size usage in MB.

---

The `auto_heal_rule` block supports the following:

* `triggers` - (Optional) One `trigger` block defined below.

* `actions` - (Optional) One `action` block defined below.


---

The `trigger` block supports the following:

* `private_bytes_in_kb` - (Optional) A rule based on private bytes.

---

The `action` block supports the following:

* `action_type` - (Optional) Predefined action to be taken. Defaults to `Recycle`.

* `min_process_execution_time` - (Optional) Minimum time the process must execute<br>before taking the action

---

The `cor` block supports the following:

* `allowed_origins` - (Optional) Gets or sets the list of origins that should be allowed to make cross-origin<br>calls (for example: http://example.com:12345). Use "*" to allow all.

* `support_credentials` - (Optional) Gets or sets whether CORS requests with credentials are allowed. See <br>https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS#Requests_with_credentials<br>for more details.

---

The `push` block supports the following:

* `kind` - (Optional) Kind of resource.

* `is_push_enabled` - (Required) Gets or sets a flag indicating whether the Push endpoint is enabled.

* `tag_whitelist_json` - (Optional) Gets or sets a JSON string containing a list of tags that are whitelisted for use by the push registration endpoint.

* `tags_requiring_auth` - (Optional) Gets or sets a JSON string containing a list of tags that require user authentication to be used in the push registration endpoint.<br>Tags can consist of alphanumeric characters and the following:<br>'_', '@', '#', '.', ':', '-'. <br>Validation should be performed at the PushRequestHandler.

* `dynamic_tags_json` - (Optional) Gets or sets a JSON string containing a list of dynamic tags that will be evaluated from user claims in the push registration endpoint.

---

The `api_definition` block supports the following:

* `url` - (Optional) The URL of the API definition.

---

The `ip_security_restriction` block supports the following:

* `ip_address` - (Optional) IP address the security restriction is valid for.<br>It can be in form of pure ipv4 address (required SubnetMask property) or<br>CIDR notation such as ipv4/mask (leading bit match). For CIDR,<br>SubnetMask property must not be specified.

* `subnet_mask` - (Optional) Subnet mask for the range of IP addresses the restriction is valid for.

* `vnet_subnet_resource_id` - (Optional) Virtual network resource id

* `vnet_traffic_tag` - (Optional) (internal) Vnet traffic tag

* `subnet_traffic_tag` - (Optional) (internal) Subnet traffic tag

* `action` - (Optional) Allow or Deny access for this IP range.

* `tag` - (Optional) Defines what this IP filter will be used for. This is to support IP filtering on proxies. Defaults to `Default`.

* `priority` - (Optional) Priority of IP restriction rule.

* `name` - (Optional) IP restriction rule name.

* `description` - (Optional) IP restriction rule description.

---

The `scm_ip_security_restriction` block supports the following:

* `ip_address` - (Optional) IP address the security restriction is valid for.<br>It can be in form of pure ipv4 address (required SubnetMask property) or<br>CIDR notation such as ipv4/mask (leading bit match). For CIDR,<br>SubnetMask property must not be specified.

* `subnet_mask` - (Optional) Subnet mask for the range of IP addresses the restriction is valid for.

* `vnet_subnet_resource_id` - (Optional) Virtual network resource id

* `vnet_traffic_tag` - (Optional) (internal) Vnet traffic tag

* `subnet_traffic_tag` - (Optional) (internal) Subnet traffic tag

* `action` - (Optional) Allow or Deny access for this IP range.

* `tag` - (Optional) Defines what this IP filter will be used for. This is to support IP filtering on proxies. Defaults to `Default`.

* `priority` - (Optional) Priority of IP restriction rule.

* `name` - (Optional) IP restriction rule name.

* `description` - (Optional) IP restriction rule description.

## Attributes Reference

The following attributes are exported:

* `state` - Current state of the app.

* `host_names` - Hostnames associated with the app.

* `repository_site_name` - Name of the repository site.

* `usage_state` - State indicating whether the app has exceeded its quota usage. Read-only.

* `enabled_host_names` - Enabled hostnames for the app.Hostnames need to be assigned (see HostNames) AND enabled. Otherwise,<br>the app is not served on those hostnames.

* `availability_state` - Management information availability state for the app.

* `last_modified_time_utc` - Last time the app was modified, in UTC. Read-only.

* `traffic_manager_host_names` - Azure Traffic Manager hostnames associated with the app. Read-only.

* `target_swap_slot` - Specifies which deployment slot this app will swap into. Read-only.

* `outbound_ip_addresses` - List of IP addresses that the app uses for outbound connections (e.g. database access). Includes VIPs from tenants that site can be hosted with current settings. Read-only.

* `possible_outbound_ip_addresses` - List of IP addresses that the app uses for outbound connections (e.g. database access). Includes VIPs from all tenants. Read-only.

* `suspended_till` - App suspended till in case memory-time quota is exceeded.

* `max_number_of_workers` - Maximum number of workers.<br>This only applies to Functions container.

* `resource_group` - Name of the resource group the app belongs to. Read-only.

* `is_default_container` - <code>true</code> if the app is a default container; otherwise, <code>false</code>.

* `default_host_name` - Default hostname of the app. Read-only.

* `slot_swap_status` - One `slot_swap_status` block defined below.

* `in_progress_operation_id` - Specifies an operation id if this site has a pending operation.

* `id` - Resource Id.

* `type` - Resource type.


---

The `slot_swap_status` block contains the following:

* `timestamp_utc` - (Optional) The time the last successful slot swap completed.

* `source_slot_name` - (Optional) The source slot of the last swap operation.

* `destination_slot_name` - (Optional) The destination slot of the last swap operation.
